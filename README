How to build a 32-bit version of libusb:

If you are using Snow Leopard, libusb will compile by default to a 64-bit library. Max/MSP is a 32-bit application, which means that any external that depends on a 64-bit libusb will be unusable.

To build a 32-bit libusb follow these steps:

1) git clone git://git.libusb.org/libusb.git
2) cd libusb
3) patch -p1 < ../libfreenect/platform/osx/libusb-osx-kinect.diff
4) CFLAGS="-m32" CXXFLAGS="-m32" ./configure
5) make
6) make install DESTDIR=/absolute/path/to/where/you/want/to/install/usblib

By default, libusb installs to /usr/local/lib. However, for building a Jitter external we only need the 32-bit static library, and so it's a good idea to save the 32-bit libs somewhere other than with the system libraries. This way, you can keep 64-bit versions where they belong, and 64-bit applications that require these libraries should compile fine.

After compiling and installing you should find the following folder:

/absolute/path/to/where/you/want/to/install/usblib/usr/local/lib

There should be the following files in there:
libusb-1.0.0.1.0.dylib
libusb-1.0.0.dylib
libusb-1.0.a
libusb-1.0.dylib
libusb-1.0.la

Delete all of them except for libusb-1.0.a, which you should rename, for instance to libusb32-1.0.a. This is because if Xcode finds both static and dynamic libraries that contain the code it is looking for, it will chose the dynamic library. For a Max external, this is not acceptable. Renaming the static lib, and removing all dylibs from its folder will ensure the code compiles statically. You can then add libusb32-1.0.a to your Xcode project.

To compile a 64-bit version of libusb, follow the instructions here: http://www.freenect.com/how-to-get-the-kinect-working-on-mac-os-x

1) cd libusb
2) patch -p1 < ../libfreenect/platform/osx/libusb-osx-kinect.diff
3) ./autogen.sh
4) make
5) sudo make install